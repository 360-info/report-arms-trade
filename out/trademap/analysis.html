<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-99.9.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="James Goldie, 360info">
<meta name="dcterms.date" content="2022-07-28">

<title>Arms trade: global map</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Arms trade: global map</h1>
<p class="subtitle lead">Transfers between countries</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>James Goldie, 360info </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 28, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ ggplot2 3.3.5     ✔ purrr   0.3.4
✔ tibble  3.1.6     ✔ dplyr   1.0.9
✔ tidyr   1.1.4     ✔ stringr 1.4.0
✔ readr   2.0.2     ✔ forcats 0.5.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to GEOS 3.9.1, GDAL 3.2.3, PROJ 7.2.1</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(countrycode)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cshapes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'geojsonlint':
  method         from 
  print.location dplyr</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at /Users/jgol0005/Code/reports/report-arms-trade</code></pre>
</div>
</div>
<p>I’ve downloaded SIPRI import/export TIV tables for each exporter (current as of 2022-07-28) to the <code>data/trademap-raw</code> folder.</p>
<p>Let’s tidy up this data.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read_tidy_single_exporter: read a single exporter csv in, then</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy up and lengthen it, ready to be merged</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>read_tidy_single_exporter <span class="ot">&lt;-</span> <span class="cf">function</span>(path) {</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(path, <span class="at">skip =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="st">"recipient"</span> <span class="ot">=</span> <span class="st">"...1"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(recipient)) <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (years that are all empty read in as logical, not numeric. drop 'em)</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(recipient, <span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>recipient, <span class="at">names_to =</span> <span class="st">"year"</span>, <span class="at">values_to =</span> <span class="st">"count"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># extract_supplier: extract the country name from the first line of a sipri</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co"># export tiv table csv file</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>extract_supplier <span class="ot">&lt;-</span> <span class="cf">function</span>(path) {</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readLines</span>(path, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_replace</span>(<span class="fu">coll</span>(<span class="st">'"TIV of arms exports from '</span>), <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_replace</span>(<span class="fu">regex</span>(<span class="st">', [:digit:]{4}</span><span class="sc">\\</span><span class="st">-[:digit:]{4}",{1,}'</span>), <span class="st">""</span>)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">path =</span> <span class="fu">list.files</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"trademap-raw"</span>), <span class="at">pattern =</span> <span class="fu">glob2rx</span>(<span class="st">"*.csv"</span>),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">supplier =</span> <span class="fu">map_chr</span>(path, extract_supplier),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">content =</span> <span class="fu">map</span>(path, read_tidy_single_exporter)) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(content) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>path) <span class="ot">-&gt;</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>all_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2011
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1968, 1980, 2016
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 6 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (4): 1979, 1980, 1992, 2002
lgl (68): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 10 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (23): 1962, 1964, 1967, 1968, 1970, 1972, 1976, 1979, 1980, 1981, 1982, ...
lgl (49): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2006
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1996
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 49 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (55): 1964, 1965, 1966, 1967, 1968, 1969, 1970, 1971, 1972, 1973, 1974, ...
lgl (17): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 44 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (54): 1952, 1955, 1961, 1962, 1969, 1970, 1971, 1972, 1973, 1974, 1975, ...
lgl (18): 1950, 1951, 1953, 1954, 1956, 1957, 1958, 1959, 1960, 1963, 1964, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2001
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1984
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2015
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 40 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (50): 1956, 1960, 1961, 1962, 1963, 1964, 1966, 1969, 1971, 1978, 1979, ...
lgl (22): 1950, 1951, 1952, 1953, 1954, 1955, 1957, 1958, 1959, 1965, 1967, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 32 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (28): 1993, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, ...
lgl (44): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 2002, 2011, 2013
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 52 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (48): 1960, 1961, 1969, 1971, 1974, 1975, 1976, 1977, 1978, 1979, 1980, ...
lgl (24): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1962, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 2011, 2016
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 38 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (35): 1983, 1986, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, ...
lgl (37): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:
Rows: 113 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (72): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1987
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 11 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (19): 1975, 1978, 1980, 1981, 1983, 1986, 1987, 1988, 1989, 1991, 1992, ...
lgl (53): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 100 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (67): 1954, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, 1964, 1965, ...
lgl  (5): 1950, 1951, 1952, 1953, 1955

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (4): 1993, 1994, 1995, 2000
lgl (68): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 7 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (5): 2002, 2012, 2017, 2019, 2020
lgl (67): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 2008, 2009
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 2000, 2017
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (6): 1957, 1958, 1975, 1978, 1979, 1980
lgl (66): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1959, 1960, 1961, 1962, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1996
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 35 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (43): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...
lgl (29): 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 48 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (29): 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, ...
lgl (43): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 42 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (39): 1960, 1964, 1965, 1967, 1968, 1969, 1975, 1980, 1981, 1982, 1983, ...
lgl (33): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2017
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1979, 1997
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 2014, 2018
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 30 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (37): 1956, 1957, 1958, 1959, 1961, 1962, 1963, 1964, 1966, 1967, 1968, ...
lgl (35): 1950, 1951, 1952, 1953, 1954, 1955, 1960, 1965, 1971, 1972, 1973, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1998, 1999, 2006
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1996, 2015
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1985, 1987, 1997
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2019
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 35 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (50): 1954, 1959, 1960, 1961, 1962, 1965, 1966, 1967, 1968, 1969, 1970, ...
lgl (22): 1950, 1951, 1952, 1953, 1955, 1956, 1957, 1958, 1963, 1964, 1973, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1984
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:
Rows: 142 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (72): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 120 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (69): 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, ...
lgl  (3): 1950, 1951, 1952

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1973
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 13 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (19): 1960, 1961, 1962, 1963, 1964, 1965, 1974, 1976, 1977, 1978, 1979, ...
lgl (53): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1966, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 7 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (6): 1999, 2000, 2002, 2004, 2016, 2017
lgl (66): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1979, 2005
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 8 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (16): 1964, 1965, 1992, 1993, 1994, 1996, 1997, 1998, 1999, 2000, 2001, ...
lgl (56): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1955
lgl (71): 1950, 1951, 1952, 1953, 1954, 1956, 1957, 1958, 1959, 1960, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1976
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 12 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (20): 1957, 1966, 1967, 1968, 1969, 1972, 1973, 1974, 1975, 1980, 1981, ...
lgl (52): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1958, 1959, 1960, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1980, 1993
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 20 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (44): 1959, 1968, 1971, 1972, 1973, 1974, 1975, 1978, 1979, 1982, 1987, ...
lgl (28): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1960, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 15 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (23): 1963, 1970, 1978, 1980, 1985, 1986, 1993, 1994, 1995, 1997, 1999, ...
lgl (49): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 18 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (46): 1962, 1967, 1970, 1971, 1972, 1973, 1974, 1975, 1980, 1981, 1982, ...
lgl (26): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 8 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (16): 1978, 1979, 1980, 1981, 2005, 2006, 2007, 2008, 2009, 2010, 2011, ...
lgl (56): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 7 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (5): 1957, 1960, 1980, 1988, 1989
lgl (67): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1958, 1959, 1961, 1962, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 98 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (62): 1954, 1955, 1957, 1959, 1964, 1965, 1966, 1967, 1968, 1969, 1970, ...
lgl (10): 1950, 1951, 1952, 1953, 1956, 1958, 1960, 1961, 1962, 1963

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:
Rows: 118 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (72): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1971, 2018
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 21 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (36): 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, 1964, ...
lgl (36): 1950, 1951, 1952, 1953, 1965, 1967, 1968, 1970, 1975, 1976, 1977, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 24 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (29): 1959, 1971, 1973, 1974, 1975, 1977, 1983, 1985, 1986, 1988, 1989, ...
lgl (43): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1960, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 13 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (9): 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2004, 2006
lgl (63): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1981, 1991, 1993
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 19 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (35): 1974, 1975, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, ...
lgl (37): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 38 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (39): 1972, 1979, 1980, 1981, 1982, 1984, 1985, 1986, 1988, 1989, 1990, ...
lgl (33): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 8 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (4): 1967, 1980, 1984, 1998
lgl (68): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 6 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (8): 1995, 2003, 2006, 2007, 2008, 2015, 2016, 2017
lgl (64): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1994
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1967, 1991, 2002
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 2002, 2018, 2021
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2007
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 30 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (30): 1972, 1973, 1975, 1976, 1978, 1979, 1980, 1981, 1982, 1983, 1984, ...
lgl (42): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 2016, 2018
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 8 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (8): 1971, 1982, 1987, 1995, 1999, 2009, 2013, 2014
lgl (64): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1953, 2019
lgl (70): 1950, 1951, 1952, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 10 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (13): 1992, 1994, 1997, 2000, 2001, 2002, 2003, 2005, 2006, 2007, 2008, ...
lgl (59): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1962, 1969, 1978
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1977
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 2004, 2015
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 6 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (4): 2006, 2007, 2010, 2017
lgl (68): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2000
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:
Rows: 85 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (72): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 9 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (7): 1955, 1958, 1989, 1990, 1992, 1993, 1995
lgl (65): 1950, 1951, 1952, 1953, 1954, 1956, 1957, 1959, 1960, 1961, 1962, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1989, 1990, 2021
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1973
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 41 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (62): 1950, 1951, 1953, 1959, 1960, 1962, 1963, 1964, 1965, 1966, 1967, ...
lgl (10): 1952, 1954, 1955, 1956, 1957, 1958, 1961, 1970, 1974, 1984

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 15 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (24): 1967, 1968, 1969, 1972, 1973, 1974, 1975, 1981, 1982, 1984, 1985, ...
lgl (48): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 7 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (5): 1977, 1986, 1994, 2005, 2017
lgl (67): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 15 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (21): 1967, 1971, 1980, 1981, 1982, 1989, 1990, 1991, 1994, 2000, 2002, ...
lgl (51): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1979, 2019
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1982, 2001, 2004
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1986, 2007
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 47 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (61): 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, ...
lgl (11): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1993

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 21 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (26): 1967, 1971, 1973, 1974, 1975, 1976, 1978, 1979, 1980, 1983, 1986, ...
lgl (46): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 11 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (7): 1993, 1999, 2006, 2011, 2018, 2019, 2021
lgl (65): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 27 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (35): 1971, 1972, 1973, 1974, 1978, 1979, 1980, 1981, 1982, 1983, 1984, ...
lgl (37): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 109 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (30): 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, ...
lgl (42): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 74 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (52): 1959, 1960, 1961, 1967, 1969, 1970, 1971, 1972, 1973, 1974, 1975, ...
lgl (20): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1962, 1963, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 14 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (16): 1955, 1967, 1968, 1972, 1976, 1977, 1981, 1984, 1985, 1993, 1996, ...
lgl (56): 1950, 1951, 1952, 1953, 1954, 1956, 1957, 1958, 1959, 1960, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1976
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 18 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (19): 1996, 1997, 2001, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, ...
lgl (53): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1995
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 22 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (30): 1971, 1975, 1978, 1979, 1981, 1983, 1984, 1987, 1988, 1989, 1990, ...
lgl (42): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 31 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (23): 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2004, ...
lgl (49): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 2016
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 82 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (62): 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, ...
lgl (10): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1998
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (3): 1967, 1986, 2013
lgl (69): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:
Rows: 84 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (72): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 79 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (63): 1959, 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, ...
lgl  (9): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 11 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (17): 1970, 1974, 1975, 1977, 1982, 1983, 1984, 1985, 1986, 1988, 1992, ...
lgl (55): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 15 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (17): 1967, 1972, 1979, 1989, 1990, 1996, 1997, 2001, 2002, 2009, 2012, ...
lgl (55): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 7 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (7): 2003, 2004, 2006, 2016, 2017, 2019, 2021
lgl (65): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 45 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (30): 1956, 1980, 1981, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, ...
lgl (42): 1950, 1951, 1952, 1953, 1954, 1955, 1957, 1958, 1959, 1960, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 42 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (25): 1974, 1983, 1986, 1987, 1990, 1995, 1996, 1997, 2004, 2005, 2006, ...
lgl (47): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1968, 2016
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:
Rows: 127 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (72): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 82 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (30): 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, ...
lgl (42): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1964
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1960, 2000
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1961, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:
Rows: 183 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (72): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 78 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (42): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...
lgl (30): 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (8): 2003, 2004, 2005, 2009, 2010, 2011, 2015, 2016
lgl (64): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 7 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (7): 1969, 1975, 1987, 2004, 2006, 2008, 2009
lgl (65): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 6 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (4): 1972, 1987, 2006, 2018
lgl (68): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1970
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1992
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1991
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 113 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (67): 1950, 1951, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, ...
lgl  (5): 1952, 1953, 1954, 1968, 1970

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1985
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1975, 1986
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 20 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl (26): 1956, 1958, 1960, 1964, 1965, 1969, 1970, 1971, 1973, 1975, 1976, ...
lgl (46): 1950, 1951, 1952, 1953, 1954, 1955, 1957, 1959, 1961, 1962, 1963, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (1): 1990
lgl (71): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
New names:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4 Columns: 74
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (2): ...1, Total
dbl  (2): 1964, 2001
lgl (70): 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb285"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> - do we want to create explicitly missing data?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now we need some spatial context for these groups. In cases where it’s a group within a country, SIPRI generally lists it as “Group name (country)*“, so let’s try to extract a country name from the parentheses.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a>all_data <span class="sc">%&gt;%</span></span>
<span id="cb286-2"><a href="#cb286-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(supplier <span class="sc">!=</span> <span class="st">"Total"</span>, recipient <span class="sc">!=</span> <span class="st">"Total"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb286-3"><a href="#cb286-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb286-4"><a href="#cb286-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># first, try to get the country code directly</span></span>
<span id="cb286-5"><a href="#cb286-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">supp_code_firstpass =</span> <span class="fu">countrycode</span>(supplier, <span class="st">"country.name"</span>, <span class="st">"cown"</span>),</span>
<span id="cb286-6"><a href="#cb286-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">recp_code_firstpass =</span> <span class="fu">countrycode</span>(recipient, <span class="st">"country.name"</span>, <span class="st">"cown"</span>),</span>
<span id="cb286-7"><a href="#cb286-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># now, let's extract the parentheses</span></span>
<span id="cb286-8"><a href="#cb286-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">supp_parenthesised =</span></span>
<span id="cb286-9"><a href="#cb286-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_match</span>(supplier, <span class="fu">regex</span>(<span class="st">"(?&lt;=</span><span class="sc">\\</span><span class="st">().*?(?=</span><span class="sc">\\</span><span class="st">))"</span>))[,<span class="dv">1</span>],</span>
<span id="cb286-10"><a href="#cb286-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">recp_parenthesised =</span></span>
<span id="cb286-11"><a href="#cb286-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_match</span>(recipient, <span class="fu">regex</span>(<span class="st">"(?&lt;=</span><span class="sc">\\</span><span class="st">().*?(?=</span><span class="sc">\\</span><span class="st">))"</span>))[,<span class="dv">1</span>],</span>
<span id="cb286-12"><a href="#cb286-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># now try to get the country code again</span></span>
<span id="cb286-13"><a href="#cb286-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">supp_code_secondpass =</span></span>
<span id="cb286-14"><a href="#cb286-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">countrycode</span>(supp_parenthesised, <span class="st">"country.name"</span>, <span class="st">"cown"</span>),</span>
<span id="cb286-15"><a href="#cb286-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">recp_code_secondpass =</span></span>
<span id="cb286-16"><a href="#cb286-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">countrycode</span>(recp_parenthesised, <span class="st">"country.name"</span>, <span class="st">"cown"</span>),</span>
<span id="cb286-17"><a href="#cb286-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># and finally merge the attempts</span></span>
<span id="cb286-18"><a href="#cb286-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">supplier_cown =</span> <span class="fu">coalesce</span>(supp_code_firstpass, supp_code_secondpass),</span>
<span id="cb286-19"><a href="#cb286-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">recipient_cown =</span> <span class="fu">coalesce</span>(recp_code_firstpass, recp_code_secondpass)) <span class="sc">%&gt;%</span></span>
<span id="cb286-20"><a href="#cb286-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(supplier, recipient, year, count, <span class="fu">ends_with</span>(<span class="st">"cown"</span>)) <span class="ot">-&gt;</span></span>
<span id="cb286-21"><a href="#cb286-21" aria-hidden="true" tabindex="-1"></a>matched_countries</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: Aruba, European Union**, Serbia, United Nations**, Unknown supplier(s)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: African Union**, Biafra, Hamas (Palestine)*, Katanga, Micronesia, NATO**, OSCE**, Palestine, Provisional IRA (UK)*, Regional Security System**, Serbia, SPLA (Sudan)*, United Nations**, Unknown rebel group*, Unknown recipient(s), Viet Cong (South Vietnam)*, Western Sahara</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some strings were matched more than once, and therefore set to &lt;NA&gt; in the result: Viet Cong (South Vietnam)*,817,816</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: GDR, s</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: GDR, Palestine, s</code></pre>
</div>
</div>
<p>Let’s see how many groups we successfully matched to a country with this process:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a>matched_countries <span class="sc">%&gt;%</span></span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(supplier_cown)) <span class="sc">%&gt;%</span></span>
<span id="cb292-3"><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(supplier) <span class="sc">%&gt;%</span></span>
<span id="cb292-4"><a href="#cb292-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>.
              Aruba    European Union**              Serbia    United Nations** 
                  1                   1                 304                   1 
Unknown supplier(s) 
               7437 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a>matched_countries <span class="sc">%&gt;%</span></span>
<span id="cb294-2"><a href="#cb294-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(recipient_cown)) <span class="sc">%&gt;%</span></span>
<span id="cb294-3"><a href="#cb294-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(recipient) <span class="sc">%&gt;%</span></span>
<span id="cb294-4"><a href="#cb294-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>.
           African Union**                     Biafra 
                       362                        242 
        Hamas (Palestine)*                    Katanga 
                       102                        310 
                Micronesia                     NATO** 
                       126                        536 
                    OSCE**                  Palestine 
                        55                        112 
Regional Security System**                     Serbia 
                        72                        309 
          United Nations**       Unknown rebel group* 
                       750                         67 
      Unknown recipient(s)             Western Sahara 
                       997                        142 </code></pre>
</div>
</div>
<p>Some of these, like the EU, UN, NATO, OSCE, RSS and AU, are groups that don’t necessarily have a physical domain. Nor do “Unknown recipient(s)” (although “Unknown rebel group*” potentially could, depending on the context).</p>
<p>Some we can fix up manually:</p>
<ul>
<li>Western Sahara</li>
<li>Palestine</li>
<li>Hamas (Palestine)</li>
<li>Biafra</li>
<li>Katanga</li>
<li>Micronesia</li>
<li>Serbia</li>
</ul>
<p>Now, let’s get the geometry for these countries. <a href="https://icr.ethz.ch/data/cshapes">The <code>cshapes</code> package</a> keeps historical country boundaries. This is really handy, since our arms trade data goes back to 1950, and countries have shifted over time.</p>
<p>The <code>cshapes</code> boundaries are structured as an <code>sf</code> object with one row for each country and period. For example, the US has three distinct sets of boundaries over its history (1886 to 1959, 1959, and 1959 to 2019), so the US has three rows in the dataset.</p>
<p>Let’s split the data up into before and after 2019:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>matched_countries <span class="sc">%&gt;%</span></span>
<span id="cb296-2"><a href="#cb296-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&lt;=</span> <span class="dv">2019</span>) <span class="ot">-&gt;</span></span>
<span id="cb296-3"><a href="#cb296-3" aria-hidden="true" tabindex="-1"></a>historical_transfers</span>
<span id="cb296-4"><a href="#cb296-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-5"><a href="#cb296-5" aria-hidden="true" tabindex="-1"></a>matched_countries <span class="sc">%&gt;%</span></span>
<span id="cb296-6"><a href="#cb296-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;</span> <span class="dv">2019</span>) <span class="ot">-&gt;</span></span>
<span id="cb296-7"><a href="#cb296-7" aria-hidden="true" tabindex="-1"></a>current_transfers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now we’ll get historical country centroids from <code>cshapes</code> and merge them into our historical transfers data using the numerical Correlates of War code:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb297"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb297-1"><a href="#cb297-1" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">sf_use_s2</span>(<span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Spherical geometry (s2) switched off</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb299"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb299-1"><a href="#cb299-1" aria-hidden="true" tabindex="-1"></a>shapes_all_full <span class="ot">&lt;-</span></span>
<span id="cb299-2"><a href="#cb299-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cshp</span>(<span class="at">useGW =</span> <span class="cn">FALSE</span>, <span class="at">dependencies =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb299-3"><a href="#cb299-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_centroid</span>(<span class="at">of_largest_polygon =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb299-4"><a href="#cb299-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">centre =</span> <span class="fu">st_coordinates</span>(geometry)) <span class="sc">%&gt;%</span></span>
<span id="cb299-5"><a href="#cb299-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb299-6"><a href="#cb299-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lon =</span> centre[, <span class="dv">1</span>], <span class="at">lat =</span> centre[, <span class="dv">2</span>]) <span class="sc">%&gt;%</span></span>
<span id="cb299-7"><a href="#cb299-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cowcode, start, end, lon, lat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_centroid.sf(., of_largest_polygon = TRUE): st_centroid assumes
attributes are constant over geometries of x</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_centroid.sfc(st_geometry(x), of_largest_polygon =
of_largest_polygon): st_centroid does not give correct centroids for longitude/
latitude data</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="co"># join twice: first by supplier, then by recipient</span></span>
<span id="cb302-2"><a href="#cb302-2" aria-hidden="true" tabindex="-1"></a>historical_transfers <span class="sc">%&gt;%</span></span>
<span id="cb302-3"><a href="#cb302-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">transfer_date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"-01-01"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb302-4"><a href="#cb302-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(shapes_all_full, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"supplier_cown"</span> <span class="ot">=</span> <span class="st">"cowcode"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb302-5"><a href="#cb302-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(transfer_date <span class="sc">&gt;=</span> start, transfer_date <span class="sc">&lt;</span> end) <span class="sc">%&gt;%</span></span>
<span id="cb302-6"><a href="#cb302-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>start, <span class="sc">-</span>end) <span class="sc">%&gt;%</span></span>
<span id="cb302-7"><a href="#cb302-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">supplier_lon =</span> lon, <span class="at">supplier_lat =</span> lat) <span class="sc">%&gt;%</span></span>
<span id="cb302-8"><a href="#cb302-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(shapes_all_full, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"recipient_cown"</span> <span class="ot">=</span> <span class="st">"cowcode"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb302-9"><a href="#cb302-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(transfer_date <span class="sc">&gt;=</span> start, transfer_date <span class="sc">&lt;</span> end) <span class="sc">%&gt;%</span></span>
<span id="cb302-10"><a href="#cb302-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>start, <span class="sc">-</span>end) <span class="sc">%&gt;%</span></span>
<span id="cb302-11"><a href="#cb302-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">recipient_lon =</span> lon, <span class="at">recipient_lat =</span> lat) <span class="ot">-&gt;</span></span>
<span id="cb302-12"><a href="#cb302-12" aria-hidden="true" tabindex="-1"></a>historical_transfer_centroids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>For data since 2020, we’ll need to assume current political boundaries. If we want to use another dataset for current boundaries, we’ll likely need an ISO3 code rather than a COW code. But not all suppliers and recipients have one:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a>current_transfers <span class="sc">%&gt;%</span></span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># we'll need iso3 codes for the modern countries</span></span>
<span id="cb303-3"><a href="#cb303-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb303-4"><a href="#cb303-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">supplier_iso3 =</span> <span class="fu">countrycode</span>(supplier_cown, <span class="st">"cown"</span>, <span class="st">"iso3c"</span>),</span>
<span id="cb303-5"><a href="#cb303-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">recipient_iso3 =</span> <span class="fu">countrycode</span>(recipient_cown, <span class="st">"cown"</span>, <span class="st">"iso3c"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb303-6"><a href="#cb303-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># show me countries that have a cown but not an iso3</span></span>
<span id="cb303-7"><a href="#cb303-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb303-8"><a href="#cb303-8" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">is.na</span>(supplier_iso3) <span class="sc">&amp;</span> (<span class="sc">!</span><span class="fu">is.na</span>(supplier_cown))) <span class="sc">|</span></span>
<span id="cb303-9"><a href="#cb303-9" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">is.na</span>(recipient_iso3) <span class="sc">&amp;</span> (<span class="sc">!</span><span class="fu">is.na</span>(recipient_cown)))) <span class="sc">%&gt;%</span></span>
<span id="cb303-10"><a href="#cb303-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>year, <span class="sc">-</span>count) <span class="sc">%&gt;%</span></span>
<span id="cb303-11"><a href="#cb303-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(supplier_cown, recipient_cown, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb303-12"><a href="#cb303-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: 265, 315, 345, 347, 678, 680, 817</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 6
   supplier  recipient supplier_cown recipient_cown supplier_iso3 recipient_iso3
   &lt;chr&gt;     &lt;chr&gt;             &lt;dbl&gt;          &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;         
 1 Austria   Yugoslav…           305            345 AUT           &lt;NA&gt;          
 2 Bulgaria  Southern…           355            680 BGR           &lt;NA&gt;          
 3 Canada    North Ye…            20            678 CAN           &lt;NA&gt;          
 4 Canada    South Ye…            20            680 CAN           &lt;NA&gt;          
 5 Canada    Yugoslav…            20            345 CAN           &lt;NA&gt;          
 6 France    South Vi…           220            817 FRA           &lt;NA&gt;          
 7 France    Yugoslav…           220            345 FRA           &lt;NA&gt;          
 8 Germany   Yugoslav…           255            345 DEU           &lt;NA&gt;          
 9 Iran      South Vi…           630            817 IRN           &lt;NA&gt;          
10 Italy     North Ye…           325            678 ITA           &lt;NA&gt;          
11 South Ko… South Vi…           732            817 KOR           &lt;NA&gt;          
12 Poland    Czechosl…           290            315 POL           &lt;NA&gt;          
13 Poland    East Ger…           290            265 POL           &lt;NA&gt;          
14 Poland    South Ye…           290            680 POL           &lt;NA&gt;          
15 Sweden    Yugoslav…           380            345 SWE           &lt;NA&gt;          
16 Taiwan    South Vi…           713            817 TWN           &lt;NA&gt;          
17 Turkey    Kosovo              640            347 TUR           &lt;NA&gt;          
18 United K… North Ye…           200            678 GBR           &lt;NA&gt;          
19 United K… South Ye…           200            680 GBR           &lt;NA&gt;          
20 United K… Yugoslav…           200            345 GBR           &lt;NA&gt;          
21 United S… Kosovo                2            347 USA           &lt;NA&gt;          
22 United S… North Ye…             2            678 USA           &lt;NA&gt;          
23 United S… South Vi…             2            817 USA           &lt;NA&gt;          
24 United S… Yugoslav…             2            345 USA           &lt;NA&gt;          
25 Unknown … North Ye…            NA            678 &lt;NA&gt;          &lt;NA&gt;          </code></pre>
</div>
</div>
<p>Instead, let’s use the latest <code>cshapes</code> boundaries, which <em>should</em> be current up to 2019 for most countries. We may need to fix a few up.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb306"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we'll just use the most current (2019?) boundaries</span></span>
<span id="cb306-2"><a href="#cb306-2" aria-hidden="true" tabindex="-1"></a>shapes_all_full <span class="sc">%&gt;%</span></span>
<span id="cb306-3"><a href="#cb306-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cowcode) <span class="sc">%&gt;%</span></span>
<span id="cb306-4"><a href="#cb306-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(end) <span class="ot">-&gt;</span></span>
<span id="cb306-5"><a href="#cb306-5" aria-hidden="true" tabindex="-1"></a>latest_shapes</span>
<span id="cb306-6"><a href="#cb306-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb306-7"><a href="#cb306-7" aria-hidden="true" tabindex="-1"></a><span class="co"># join twice: first by supplier, then by recipient</span></span>
<span id="cb306-8"><a href="#cb306-8" aria-hidden="true" tabindex="-1"></a>current_transfers <span class="sc">%&gt;%</span></span>
<span id="cb306-9"><a href="#cb306-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">transfer_date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"-01-01"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb306-10"><a href="#cb306-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(latest_shapes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"supplier_cown"</span> <span class="ot">=</span> <span class="st">"cowcode"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb306-11"><a href="#cb306-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">supplier_start =</span> start, <span class="at">supplier_end =</span> end) <span class="sc">%&gt;%</span></span>
<span id="cb306-12"><a href="#cb306-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">supplier_lon =</span> lon, <span class="at">supplier_lat =</span> lat) <span class="sc">%&gt;%</span></span>
<span id="cb306-13"><a href="#cb306-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(latest_shapes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"recipient_cown"</span> <span class="ot">=</span> <span class="st">"cowcode"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb306-14"><a href="#cb306-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">recipient_start =</span> start, <span class="at">recipient_end =</span> end) <span class="sc">%&gt;%</span></span>
<span id="cb306-15"><a href="#cb306-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">recipient_lon =</span> lon, <span class="at">recipient_lat =</span> lat) <span class="ot">-&gt;</span></span>
<span id="cb306-16"><a href="#cb306-16" aria-hidden="true" tabindex="-1"></a>current_transfer_centroids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>I’ll just confirm that most of the merges are using 2019 boundaries:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb307"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a>current_transfer_centroids <span class="sc">%&gt;%</span></span>
<span id="cb307-2"><a href="#cb307-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_min =</span> <span class="fu">pmin</span>(supplier_end, recipient_end)) <span class="sc">%&gt;%</span></span>
<span id="cb307-3"><a href="#cb307-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(end_min, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb307-4"><a href="#cb307-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(end_min)) <span class="sc">%&gt;%</span></span>
<span id="cb307-5"><a href="#cb307-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(end_min) <span class="sc">%&gt;%</span></span>
<span id="cb307-6"><a href="#cb307-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(end_min, <span class="at">.keep_all =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb307-7"><a href="#cb307-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 16
  end_min    supplier recipient         year  count supplier_cown recipient_cown
  &lt;date&gt;     &lt;chr&gt;    &lt;chr&gt;             &lt;chr&gt; &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;
1 1975-04-30 France   South Vietnam     2020     NA           220            817
2 1990-05-21 Bulgaria Southern rebels … 2020     NA           355            680
3 1990-10-02 Poland   East Germany (GD… 2020     NA           290            265
4 1992-12-31 Poland   Czechoslovakia    2020     NA           290            315
5 2019-12-31 Austria  Argentina         2020     NA           305            160
# … with 9 more variables: transfer_date &lt;date&gt;, supplier_start &lt;date&gt;,
#   supplier_end &lt;date&gt;, supplier_lon &lt;dbl&gt;, supplier_lat &lt;dbl&gt;,
#   recipient_start &lt;date&gt;, recipient_end &lt;date&gt;, recipient_lon &lt;dbl&gt;,
#   recipient_lat &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Looks like all but four country pairings have boundary dates (<code>end_min</code>) going up to the end of 2019. So we also need to manually review:</p>
<ul>
<li>South Vietnam</li>
<li>Southern rebels (Yemen)*</li>
<li>East Germany (GDR)</li>
<li>Czechoslovakia</li>
</ul>
<section id="uniting-historical-and-current-trades" class="level3">
<h3 class="anchored" data-anchor-id="uniting-historical-and-current-trades">Uniting historical and current trades</h3>
<p>Let’s join the two back up:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb309"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb309-1"><a href="#cb309-1" aria-hidden="true" tabindex="-1"></a>current_transfer_centroids <span class="sc">%&gt;%</span></span>
<span id="cb309-2"><a href="#cb309-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">"start"</span>), <span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">"end"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb309-3"><a href="#cb309-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(historical_transfer_centroids) <span class="sc">%&gt;%</span></span>
<span id="cb309-4"><a href="#cb309-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># finally, ditch the NA rows (no export)</span></span>
<span id="cb309-5"><a href="#cb309-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(count)) <span class="sc">%&gt;%</span></span>
<span id="cb309-6"><a href="#cb309-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"sipri-exports-processed.csv"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb309-7"><a href="#cb309-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"sipri-exports-processed.csv.gz"</span>)) <span class="ot">-&gt;</span></span>
<span id="cb309-8"><a href="#cb309-8" aria-hidden="true" tabindex="-1"></a>all_transfer_centroids</span>
<span id="cb309-9"><a href="#cb309-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb309-10"><a href="#cb309-10" aria-hidden="true" tabindex="-1"></a><span class="co"># geojson export: we need each row's geometry to be a line from supplier</span></span>
<span id="cb309-11"><a href="#cb309-11" aria-hidden="true" tabindex="-1"></a><span class="co"># to recipient. let's pivot suppliers and recipients longer, then convert to</span></span>
<span id="cb309-12"><a href="#cb309-12" aria-hidden="true" tabindex="-1"></a><span class="co"># sf and summarise to get the linestrings</span></span>
<span id="cb309-13"><a href="#cb309-13" aria-hidden="true" tabindex="-1"></a>all_transfer_centroids <span class="sc">%&gt;%</span></span>
<span id="cb309-14"><a href="#cb309-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">supplier_name =</span> supplier, <span class="at">recipient_name =</span> recipient) <span class="sc">%&gt;%</span></span>
<span id="cb309-15"><a href="#cb309-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb309-16"><a href="#cb309-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">transfer_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb309-17"><a href="#cb309-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb309-18"><a href="#cb309-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="fu">starts_with</span>(<span class="st">"supplier"</span>), <span class="fu">starts_with</span>(<span class="st">"recipient"</span>)),</span>
<span id="cb309-19"><a href="#cb309-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"role"</span>, <span class="st">".value"</span>), <span class="at">names_sep =</span> <span class="st">"_"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb309-20"><a href="#cb309-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(lat), <span class="sc">!</span><span class="fu">is.na</span>(lon)) <span class="sc">%&gt;%</span></span>
<span id="cb309-21"><a href="#cb309-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"lon"</span>, <span class="st">"lat"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb309-22"><a href="#cb309-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(transfer_id) <span class="sc">%&gt;%</span></span>
<span id="cb309-23"><a href="#cb309-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(role)) <span class="sc">%&gt;%</span>     <span class="co"># supplier before recipient </span></span>
<span id="cb309-24"><a href="#cb309-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb309-25"><a href="#cb309-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> year[<span class="dv">1</span>],</span>
<span id="cb309-26"><a href="#cb309-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">supplier_name =</span> name[<span class="dv">1</span>],</span>
<span id="cb309-27"><a href="#cb309-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">recipient_name =</span> name[<span class="dv">2</span>],</span>
<span id="cb309-28"><a href="#cb309-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">supplier_name =</span> name[<span class="dv">1</span>],</span>
<span id="cb309-29"><a href="#cb309-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">recipient_name =</span> name[<span class="dv">2</span>],</span>
<span id="cb309-30"><a href="#cb309-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">count =</span> count[<span class="dv">1</span>]) <span class="sc">%&gt;%</span></span>
<span id="cb309-31"><a href="#cb309-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count =</span> <span class="fu">as.integer</span>(count)) <span class="ot">-&gt;</span></span>
<span id="cb309-32"><a href="#cb309-32" aria-hidden="true" tabindex="-1"></a>all_transfer_lines</span>
<span id="cb309-33"><a href="#cb309-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb309-34"><a href="#cb309-34" aria-hidden="true" tabindex="-1"></a><span class="fu">st_write</span>(</span>
<span id="cb309-35"><a href="#cb309-35" aria-hidden="true" tabindex="-1"></a>  all_transfer_lines,</span>
<span id="cb309-36"><a href="#cb309-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"sipri-exports-processed.geojson"</span>),</span>
<span id="cb309-37"><a href="#cb309-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">delete_dsn =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Deleting source `/Users/jgol0005/Code/reports/report-arms-trade/data/sipri-exports-processed.geojson' using driver `GeoJSON'
Writing layer `sipri-exports-processed' to data source 
  `/Users/jgol0005/Code/reports/report-arms-trade/data/sipri-exports-processed.geojson' using driver `GeoJSON'
Writing 20867 features with 5 fields and geometry type Unknown (any).</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb311"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb311-1"><a href="#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="co"># geojson compression?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>